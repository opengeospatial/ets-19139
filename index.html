<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-05-04 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160504" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ISO 19139 - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://cite.opengeospatial.org/" id="bannerLeft">
                                                                                                <img src="./img/ogc-logo.png"  alt="ISO 19139"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-05-04
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.5
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
                      <a href="https://github.com/opengeospatial/ets-19139/issues" class="externalLink" title="Issues">
        Issues</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Documentation</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>Overview</a>
          </li>
                
      <li>
  
                          <a href="relnotes.html" title="Release Notes">
          <i class="none"></i>
        Release Notes</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Overview</h1>
<p>This executable test suite (ETS) verifies the conformance of implementations to <a class="externalLink" href="http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=32557">ISO19139</a></p>
<p>The validator uses the schemas provided by <a class="externalLink" href="http://www.ngdc.noaa.gov">NOAA NGDC</a>. Location of the schemas are <a class="externalLink" href="http://www.ngdc.noaa.gov/metadata/published/xsd/">here</a>. The validator uses the <a class="externalLink" href="http://www.ngdc.noaa.gov/metadata/published/xsd/schema.xsd">schema.xsd</a> and validates instances with the following namespaces:</p>

<ul>
  
<li><a class="externalLink" href="http://www.isotc211.org/2005/gmi">http://www.isotc211.org/2005/gmi</a></li>
  
<li><a class="externalLink" href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></li>
  
<li><a class="externalLink" href="http://www.isotc211.org/2005/srv">http://www.isotc211.org/2005/srv</a></li>
</ul>
<p>The project uses [these schematrons]( <a class="externalLink" href="https://github.com/opengeospatial/ets-19139/tree/feature-issue-javadoc/src/main/resources/org/opengis/cite/schematron">https://github.com/opengeospatial/ets-19139/tree/feature-issue-javadoc/src/main/resources/org/opengis/cite/schematron</a>)</p>
<div class="section">
<h2>Conformance Classes Tested<a name="Conformance_Classes_Tested"></a></h2>
<div class="section">
<h3>Capabilities of conformance level 1<a name="Capabilities_of_conformance_level_1"></a></h3>
<p><b>ISO19139 application schemas A.1</b> Minimum conformance with this Technical Specification requires that geographic metadata instance (XML) documents can be validated without error against the XML schemas. While many tools are available to test validation of XML instance documents against provided XML Schemas, it is important to understand that not all validation tools implement the full W3C XML Schema recommendation and not all validation tools interpret the W3C XML Schema recommendation in the same manner. It is recommended that a tool with strict interpretation of XML Schema and full support for the W3C XML Schema recommendation be used to ensure conformance.</p>
<p>&#x201c;Table 1 in the ISO19139 specfication defines the conformance classes related to ISO19139 application schemas. In this test suite mandatory conformance requirements are checked, and every ISO19139 instance document is thoroughly validated against all referenced application schemas. However, the classes dealing with less commonly used types of objects are not covered by the current test suite. Table 1 below provides the name of the conformance classes, references to the relevant clause in the abstract test suite (ATS) in Annex A, and information about its implementation status.&#x201d;</p></div>
<div class="section">
<h3>Capabilities of conformance level 2<a name="Capabilities_of_conformance_level_2"></a></h3>
<p><b>1. A.2.1 By-Value or By-Reference or gco:nilReason</b> Validation of XML instance documents against the schemas described in this document is not all that is required for conformance to this specification. However, because of the design of the XCPT the property element may have no content or attributes, or it may have both content and attributes and still be XML Schema-valid. It is not possible to constrain the co-occurrence of content or attributes. Some mechanism in addition to an XML Schema validation (e.g., Schematron, XSL Transformations) must be used to restrict a property to be exclusively by-value, or by-reference, or expressing a NULL reason.</p>
<p><b>2. A.2.2 Co-Constraints</b> XML 1.0 does not support the enforcement of certain types of constraints. For example, co-constraints such as the requirement that an &#x2018;extent&#x2019; in the form of an &#x2018;EX_GeographicBoundingBox&#x2019; or &#x2018;EX_GeographicDescription&#x2019; be used in the &#x2018;MD_DataIdentification&#x2019; object when the &#x2018;hierarchyLevel&#x2019; of &#x2018;MD_Metadata&#x2019; is equal to &#x201c;dataset&#x201d; can not be enforced with an XML schema.</p></div>
<div class="section">
<h3>Capabilities of conformance level 3<a name="Capabilities_of_conformance_level_3"></a></h3>
<p><b>A.3 Against user define Schematron</b> This conformance level validates an XML instance documents against a schematron uploaded by the users. This conformance level lets users test the XML instance against conformance 1 and 2 along with conformance 3 to validate the XML agsint the technical specifications as well as any other rules that are defined in the user entered schematron. </p></div></div>
<div class="section">
<h2>Validating Metadata Instances<a name="Validating_Metadata_Instances"></a></h2>
<p>These are the following ways to validate an instance.</p>

<ol style="list-style-type: decimal">
  
<li>Via a web user interface</li>
  
<li>Via HTTP request</li>
  
<li>Via console</li>
</ol>
<div class="section">
<h3>Validating via a Web User Interface<a name="Validating_via_a_Web_User_Interface"></a></h3>
<p>The web site is available here:  <a class="externalLink" href="http://cite-dev-03.opengeospatial.org/teamengine/">http://cite-dev-03.opengeospatial.org/teamengine/</a></p>
<p>It requires an easy registration and a login process.</p></div>
<div class="section">
<h3>Validating via an HTTP Request<a name="Validating_via_an_HTTP_Request"></a></h3>

<ul>
  
<li>URL: <a class="externalLink" href="http://cite-dev-03.opengeospatial.org/teamengine/rest/suites/iso19139/1.0/run">http://cite-dev-03.opengeospatial.org/teamengine/rest/suites/iso19139/1.0/run</a></li>
  
<li>
<p>Parameters can be:</p>
  
<ul>
    
<li>iut = Instance (or implementation) under test (Mandatory)</li>
    
<li>ics = An implementation conformance statement that indicates which conformance classes or options are supported.</li>
    
<li>sch = A URI that refers to the schematron and when ics=3 then sch is mandatory.</li>
  </ul>
<p>NOTE: Ampersand (&#x2018;&amp;&#x2019;) characters must be percent-encoded as &#x2018;%26&#x2019;</p></li>
</ul>
<p>For example::</p>

<div class="source">
<pre>  http://cite-dev-03.opengeospatial.org/teamengine/rest/suites/iso19139/1.0/run?iut=http://hydro10.sdsc.edu/metadata/Raquel_Files/37E28B7A-0406-449B-8A45-3988AE675368.xml
</pre></div>
<p>Example with sch:</p>

<div class="source">
<pre>  http://cite-dev-03.opengeospatial.org/teamengine/rest/suites/iso19139/1.0/run?iut=http://hydro10.sdsc.edu/metadata/Raquel_Files/1E97BD2D-0FDD-4BAC-8DEA-FEB57AB53A6E.xml&amp;sch=http://cite-dev-03.opengeospatial.org/teamengine/checkScopeOfXmlFile.sch

 In GET Request : iut and sch are URI's

 In POST Request : iut and sch are keys of the files attached in the POST Body
</pre></div></div>
<div class="section">
<h3>To test via GET API :<a name="To_test_via_GET_API_:"></a></h3>
<p>Using the GET API you can send the URL&#x2019;s as query parameters. For ics=2 (i.e. Conformance level 2) iut (i.e. Metadata URL) is mandatory.</p>
<p>For ics=3 (i.e. Conformance level 3) iut (i.e. Metadata URL) is mandatory and sch (i.e. Schematron URL) also needs to be passed otherwise the confomrance 3 tests will fail.</p>

<div class="source">
<pre>curl -sS 'http://teamengineProjectURI/rest/suites/testName/1.0/run?iut=www.exampleURL/Metadata.xml&amp;sch=www.exampleURL/Schematron.sch&amp;ics=3'
</pre></div></div>
<div class="section">
<h3>To test via POST API :<a name="To_test_via_POST_API_:"></a></h3>
<p>A POST request by default take ics=3 (i.e. Conformance level 3)</p>
<p>Whenever a user wants to test a Metadata file against a given Schematron (both given as a input by the user) with the help of the Teamengine&#x2019;s REST POST API where both the Metadata and Schematron is present in the Local file system then he needs to send these files via POST body instead of query parameters(as shown in the example below):</p>

<div class="source">
<pre>  curl -X POST --header &quot;Content-Type:multipart/form-data&quot; -F &quot;iut=@path/to/XML&quot; -F &quot;sch=@path/to/Schematorn&quot; http://teamengineProjectURI/rest/suites/testName/1.0/run
</pre></div>
<p>In the above example path/to/XML is the path to the Local Metadata file and path/to/Schematorn is the path to the Local Schematron file.</p></div>
<div class="section">
<h3>Results are given in XML TestNG:<a name="Results_are_given_in_XML_TestNG:"></a></h3>

<div class="source">
<pre>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
      &lt;testng-results failed=&quot;0&quot; passed=&quot;3&quot; skipped=&quot;0&quot; total=&quot;3&quot;&gt;
         &lt;reporter-output&gt;
            &lt;line&gt;The result of the test is-&lt;/line&gt;
            &lt;line&gt;Passed tests for suite 'iso19139-1.0' is:3&lt;/line&gt;
            &lt;line&gt;Failed tests for suite 'iso19139-1.0' is:0&lt;/line&gt;
            &lt;line&gt;Skipped tests for suite 'iso19139-1.0' is:0&lt;/line&gt;
            &lt;line&gt;REASON:&lt;/line&gt;
            &lt;line&gt;http://hydro10.sdsc.edu/metadata/Raquel_Files/37E28B7A-0406-449B-8A45-3988AE675368.xml conforms to the clause A.1 of ISO 19139.&lt;/line&gt;
        &lt;/reporter-output&gt;
    &lt;/testng-results&gt;
 
</pre></div></div></div>
<div class="section">
<h2>Extracting Failed Test Information<a name="Extracting_Failed_Test_Information"></a></h2>
<p>The following Snippet will help you parse the result(response) of the test and display title and tests running time, and shows you the test detail in tabular form:</p>

<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot; version=&quot;1.0&quot;&gt;
   &lt;xsl:output encoding=&quot;UTF-8&quot; indent=&quot;yes&quot; method=&quot;xml&quot; standalone=&quot;no&quot; omit-xml-declaration=&quot;no&quot; /&gt;
   &lt;xsl:template match=&quot;testng-results&quot;&gt;
      &lt;html&gt;
         &lt;body&gt;
            &lt;h3&gt;
               &lt;font color=&quot;black&quot;&gt;
                  Test Name:
                  &lt;xsl:value-of select=&quot;suite/@name&quot; /&gt;
                  &lt;br /&gt;
                  Start Time:-
                  &lt;xsl:value-of select=&quot;suite/@started-at&quot; /&gt;
                  &lt;br /&gt;
                  Stop Time:-
                  &lt;xsl:value-of select=&quot;suite/@finished-at&quot; /&gt;
               &lt;/font&gt;
            &lt;/h3&gt;
            &lt;table border=&quot;1&quot;&gt;
               &lt;tbody&gt;
                  &lt;tr&gt;
                     &lt;th&gt;Name&lt;/th&gt;
                     &lt;th&gt;Started&lt;/th&gt;
                     &lt;th&gt;Duration&lt;/th&gt;
                     &lt;th&gt;Reason&lt;/th&gt;
                  &lt;/tr&gt;
                  &lt;xsl:for-each select=&quot;//test-method&quot;&gt;
                     &lt;xsl:if test=&quot;not(@is-config='true')&quot;&gt;
                        &lt;xsl:if test=&quot;@status='PASS'&quot;&gt;
                           &lt;tr bgcolor=&quot;blue&quot;&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@name&quot; /&gt;
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@started-at&quot; /&gt;
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@duration-ms&quot; /&gt;
                                 ms
                              &lt;/td&gt;
                              &lt;td /&gt;
                           &lt;/tr&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test=&quot;@status='FAIL'&quot;&gt;
                           &lt;tr bgcolor=&quot;red&quot;&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@name&quot; /&gt;
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@started-at&quot; /&gt;
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@duration-ms&quot; /&gt;
                                 ms
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:if test=&quot;@status='FAIL'&quot;&gt;
                                    &lt;xsl:value-of select=&quot;.//message&quot; /&gt;
                                 &lt;/xsl:if&gt;
                              &lt;/td&gt;
                           &lt;/tr&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test=&quot;@status='SKIP'&quot;&gt;
                           &lt;tr bgcolor=&quot;grey&quot;&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@name&quot; /&gt;
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@started-at&quot; /&gt;
                              &lt;/td&gt;
                              &lt;td&gt;
                                 &lt;xsl:value-of select=&quot;@duration-ms&quot; /&gt;
                                 ms
                              &lt;/td&gt;
                              &lt;td /&gt;
                           &lt;/tr&gt;
                        &lt;/xsl:if&gt;
                     &lt;/xsl:if&gt;
                  &lt;/xsl:for-each&gt;
               &lt;/tbody&gt;
            &lt;/table&gt;
         &lt;/body&gt;
      &lt;/html&gt;
   &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</pre></div>
<p>JAVA Code Snippet:</p>
<p>A JAVA code snippet to extract failed test information is at the <a class="externalLink" href="https://github.com/opengeospatial/ets-19139/blob/master/src/main/javadoc/XmlParser.java">src code</a></p></div>
<div class="section">
<h2>Example of files with errors<a name="Example_of_files_with_errors"></a></h2>
<p>Files to test can be found under the TestAssets <a class="externalLink" href="https://github.com/opengeospatial/ets-19139/tree/master/src/test/resources/invalid">folder</a>. It includes:</p>

<ul>
  
<li>DateTimeValueIncorrect.xml</li>
  
<li>LangCodesIncorrect.xml</li>
  
<li>MissingMDTransferOptions_noLinks.xml</li>
  
<li>MissingNameSpace_gmd.xml</li>
  
<li>SouthandEastLatLongOutofOrder.xml</li>
</ul></div>
<div class="section">
<h2>Building<a name="Building"></a></h2>
<p>This test is build using <a class="externalLink" href="http://maven.apache.org/">Apache Maven</a> To build the test suite run maven from the root directory.  % mvn install</p>
<p>To test an application run:  % mvn test</p>
<p>More information about how to build and install the test in TEAM Engine at the <a class="externalLink" href="https://github.com/opengeospatial/teamengine/tree/master/src/site">TEAM Engine project site</a></p></div>
<div class="section">
<h2>Bugs<a name="Bugs"></a></h2>
<p>Issue tracker is available at <a class="externalLink" href="https://github.com/opengeospatial/ets-19139/issues">github</a></p></div>
<div class="section">
<h2>Mailing Lists<a name="Mailing_Lists"></a></h2>
<p>The <a class="externalLink" href="http://cite.opengeospatial.org/forum">cite-forum</a> is where software developers discuss issues and solutions related to OGC tests. </p></div>
<div class="section">
<h2>More Information<a name="More_Information"></a></h2>
<p>Visit the <a class="externalLink" href="http://cite.opengeospatial.org/">CITE website</a> to get more information about the CITE program and tools.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2016.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
